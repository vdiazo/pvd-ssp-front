<div class="modal-header">
    <h4 class="modal-title">Responsable de la UEI</h4>
    <p class="pb-2 pl-4 pr-4">Registro y listado de Responsable de la UEI</p>
  </div>
  <div class="modal-body">
    <div class="group-box" *hasClaim="'monitoreo_tabSeg_responsable_divSupervisor_exp_tec'">
      <form (ngSubmit)="modificarSupervisor(model,supervisorForm)" #supervisorForm="ngForm">
          <div class="row">
              <div class="col-sm-9">
                <div class="row form-group">
                  <input [hidden]="true" type='text' name="id_supervisor_seguimiento_expediente" id="id_supervisor_seguimiento_expediente" [(ngModel)]="model.id_supervisor_seguimiento_expediente"
                    #id_supervisor_seguimiento_expediente="ngModel" />
                  <div class="col-sm-12 inner-addon right-addon">
                      <label class="btn mb-0 rounded-left" title="Validar con RENIEC" for="dni"
                      (click)="ValidarInformacionReniec()"><i class="icono material-icons">search</i></label>
                    <input dTextBox class="form-control" type='text' name="dni" id="dni" placeholder="DNI" [(ngModel)]="model.dni" maxlength="8"
                      (keypress)="funciones.IsNumberKey($event)" #dni="ngModel" required  (ngModelChange)="validarDNI()"/>
                    <div [hidden]="dni.valid || dni.pristine" class="alert alert-danger">
                      DNI del Responsable de la UEI es obligatorio
                    </div>
                  </div>
                </div>
                <div class="row form-group">
                  <div class="col-sm-12">
                    <input dTextBox class="form-control" type='text' name="apellidos" id="apellidos" placeholder="Apellidos" [(ngModel)]="model.apellidos"
                      #apellidos="ngModel" required pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚ\s]+" readonly/>
                  </div>
                </div>
                <div class="row form-group">
                  <div class="col-sm-12">
                    <input dTextBox class="form-control" type='text' name="nombres" id="nombres" placeholder="Nombres" [(ngModel)]="model.nombres"
                      #nombres="ngModel" required pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚ\s]+" readonly />
                  </div>
                </div>
              </div>
              <div class="col-sm-3">
                <div style="height: 100%;width:163.43px;border:1px solid rgba(0, 0, 0, 0.2)">
                  <img id="imgFoto" name="imgFoto" />
                </div>
              </div>
            </div>
            <br>








        <!--<div class="row form-group">
          <input [hidden]="true" type='text' name="id_supervisor_seguimiento_expediente" id="id_supervisor_seguimiento_expediente" [(ngModel)]="model.id_supervisor_seguimiento_expediente"
            #id_supervisor_seguimiento_expediente="ngModel" />
          <div class="col-sm-2">
            <label dlabels class="control-label" for="dni">DNI (*):</label>
          </div>
          <div class="col-sm-4 inner-addon right-addon">
              <label class="btn mb-0 rounded-left" title="Validar con RENIEC"
              (click)="ValidarInformacionReniec()"><i class="icono material-icons">search</i></label>
            <input dTextBox class="form-control" type='text' name="dni" id="dni" placeholder="DNI" [(ngModel)]="model.dni" maxlength="8"
              (keypress)="funciones.IsNumberKey($event)" #dni="ngModel" required  (ngModelChange)="validarDNI()"/>
            <div [hidden]="dni.valid || dni.pristine" class="alert alert-danger">
              DNI del Responsable de la UEI es obligatorio
            </div>
          </div>
          <div class="col-sm-2">
            <label dlabels class="control-label" for="apellidos">Apellidos (*):</label>
          </div>
          <div class="col-sm-4">
            <input dTextBox class="form-control" type='text' name="apellidos" id="apellidos" placeholder="Apellidos" [(ngModel)]="model.apellidos"
              #apellidos="ngModel" required pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚ\s]+" readonly/>
          </div>
        </div>-->
        <div class="row form-group">
          <!--<div class="col-sm-2">
            <label dlabels class="control-label" for="nombres">Nombres (*):</label>
          </div>
          <div class="col-sm-4">
            <input dTextBox class="form-control" type='text' name="nombres" id="nombres" placeholder="Nombres" [(ngModel)]="model.nombres"
              #nombres="ngModel" required pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚ\s]+" readonly />
          </div>-->
          <div class="col-sm-2">
            <label dlabels class="control-label" for="id_tipo_colegiatura">Tipo de Colegiatura (*):</label>
          </div>
          <div class="col-sm-4">
            <ng-select [items]="listColegiatura" placeholder="Seleccione un tipo de colegiatura" bindLabel="tipo_colegiatura_expediente" bindValue="id_tipo_colegiatura_expediente"
              [(ngModel)]="model.id_tipo_colegiatura_expediente" name="tipo_colegiatura" id="tipo_colegiatura">
            </ng-select>
          </div>

          <div class="col-sm-2">
              <label dlabels class="control-label" for="nro_colegiatura">Nº de Colegiatura (*):</label>
          </div>
          <div class="col-sm-4">
            <input dTextBox class="form-control" type='text' name="nro_colegiatura" id="nro_colegiatura" placeholder="Nº de Colegiatura"
              [(ngModel)]="model.nro_colegiatura" #nro_colegiatura="ngModel" required maxlength="12" (keypress)="funciones.IsNumberKey($event)" />
            <div [hidden]="nro_colegiatura.valid || nro_colegiatura.pristine" class="alert alert-danger">
              Nº de Colegiatura del Responsable de la UEI es obligatorio
            </div>
          </div>
        </div>
        <div class="row form-group">
          <div class="col-sm-2">
            <label dlabels class="control-label">Nº de Teléfono (*):</label>
          </div>
          <div class="col-sm-4">
            <input dTextBox class="form-control" type='text' name="telefono" id="telefono" placeholder="Nº de Teléfono" [(ngModel)]="model.telefono"
              #telefono="ngModel" required (keypress)="funciones.IsNumberKey($event)" maxlength="10" />
            <div [hidden]="telefono.valid || telefono.pristine" class="alert alert-danger">
              Nº de Teléfono del Responsable de la UEI es obligatorio
            </div>
          </div>
          <div class="col-sm-2">
            <label dlabels class="control-label" for="observacion">Correo Electrónico (*):</label>
          </div>
          <div class="col-sm-4">
            <input dTextBox class="form-control" type='text' name="email" id="email" placeholder="Correo Electrónico" [(ngModel)]="model.email"
              #email="ngModel" required pattern="^[^\s@]+@[^\s@]+\.[^\s@]{2,}$" />
            <div [hidden]="email.valid || email.pristine" class="alert alert-danger">
              Correo Electrónico es obligatorio
            </div>
          </div>
        </div>
        <div class="row form-group">
          <div class="col-sm-2">
            <label dlabels class="control-label">Documento Nombramiento (*):</label>
          </div>
          <div class="col-sm-4">
            <div class="input-group">
              <set-input-file-listado idComp="filesupervisor" (onChange)="fileChangeEvent($event)" class="input-group" Value="{{model.nombre_archivo}}"></set-input-file-listado>
            </div>
          </div>
          <div class="col-sm-2">
              <label dlabels class="control-label" for="fecha_designacion">Fecha Designación (*):</label>
          </div>
          <div class="col-sm-4">
            <input dTextBox class="form-control" type='text' name="fecha_designacion" id="fecha_designacion" placeholder="dd/mm/aaaa"
              bsDatepicker required [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY', locale: 'es', containerClass: 'theme-red' }"
              [(ngModel)]="model.fecha_designacion" #fecha_designacion="ngModel" readonly="readonly" [maxDate]="fechaDesignaconMax" />
            <div [hidden]="fecha_designacion.valid || fecha_designacion.pristine" class="alert alert-danger">
              Fecha Designación es obligatorio
            </div>
          </div>
        </div>
        <span class="comentario">(*)Campos Obligatorios</span>
        <div class="modal-footer" [hidden]=!bEstado>
          <button type="submit" class="btn btn-danger" id="btnGuardar" readonly *hasClaim="'monitoreo_tabSeg_responsable_regSupervisor_exp_tec'"
            [hidden]=bMostrar [disabled]="!((model.dni.length==8) && (model.apellidos!=null) &&  (model.apellidos!='') && (model.nombres!=null) && (model.nombres!='') && (model.id_tipo_colegiatura_expediente!=null) && (model.fecha_designacion!=null) && (model.telefono!=null) && (model.telefono!='') && (model.email!=null) && (model.email!='') && (nombreArchivo!=null))">Guardar</button>

            
          <button class="btn btn-danger" type="button" [hidden]=!bMostrar>
            <i class="fa fa-save"></i> ....Procesando</button>
          <button type="button" id="btnLimpiar" (click)="supervisorForm.reset();setControles()" class="btn btn-plomo"> Limpiar</button>
        </div>
      </form>
    </div>
    <div class="row form-group">
      <div class="col-12 container-scroll">
        <table class="table table-hover table-responsive">
          <thead class="table-active">
            <tr>
              <th *ngIf="false">id</th>
              <th *ngIf="false">id_seguimiento_ejecucion_expediente</th>
              <th *ngIf="false">id_tipo_colegiatura_expediente</th>
              <th>DNI</th>
              <th>Responsable UEI</th>
              <th>Tipo Colegiatura</th>
              <th>Colegiatura</th>
              <th>Fecha de Designación</th>
              <th>Teléfono</th>
              <th>Correo Electrónico</th>
              <th>Doc.</th>
              <th [hidden]=!bEstado></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let supervisor of listSupervisor">
              <td *ngIf="false">{{supervisor.id_supervisor_seguimiento_expediente}}</td>
              <td *ngIf="false">{{supervisor.id_seguimiento_ejecucion_expediente}}</td>
              <td *ngIf="false">{{supervisor.id_tipo_colegiatura_expediente}}</td>
              <td class="text-left xs-hidden">{{supervisor.dni}}</td>
              <td class="text-left xs-hidden">{{supervisor.apellidos}}, {{supervisor.nombres}}</td>
              <td class="text-left xs-hidden">{{supervisor.nombre_tipo_colegiatura_expediente}}</td>
              <td class="text-right xs-hidden">{{supervisor.nro_colegiatura}}</td>
              <td class="xs-hidden">{{supervisor.fecha_designacion}}</td><!--| formatoFecha-->
              <td class="text-left xs-hidden">{{supervisor.telefono}}</td>
              <td class="text-left">
                <div class="xs-hidden">
                  {{supervisor.email}}
                </div>
                <div class="xs-display">
                  <div class="xs-th">DNI: {{supervisor.dni}}</div>
                  <div class="xs-th">{{supervisor.apellidos}}, {{supervisor.nombres}}</div>
                  <div class="xs-th">Tipo Colegiatura</div>
                  <div>{{supervisor.nombre_tipo_colegiatura_expediente}}</div>
                  <div class="xs-th">Colegiatura</div>
                  <div>{{supervisor.nro_colegiatura}}</div>
                  <div class="xs-th">Fecha de Designación</div>
                  <div>{{supervisor.fecha_designacion}}</div><!--| formatoFecha-->
                  <div class="xs-th">Teléfono</div>
                  <div>{{supervisor.telefono}}</div>
                  <div class="xs-th">Correo Electrónico</div>
                  <div>{{supervisor.email}}</div>
                </div>
              </td>
              <td>
                <div class="xs-hidden">
                  <div *ngIf="supervisor.nombre_archivo != '' && supervisor.nombre_archivo != null ; else templateicono">
                    <a href="{{supervisor.ruta_archivo}}" target="_blank" class="btn-icon" [LinkNube]="supervisor.nombre_archivo" [Ruta]="supervisor.ruta_archivo">
                      <i class="fa fa-15x">
                        <img src="assets/img/icons/file.svg" alt="archivo">
                      </i>
                    </a>
                  </div>
                  <ng-template #templateicono>
                  </ng-template>
                </div>
              </td>
              <td class="xs-footer-lista xs-text-right" [hidden]=!bEstado>
                <div class="xs-hidden pre-wrap">
                  <a href="javascript:void(0)" (click)="editarSupervisor(supervisor)" class="btn btn-sm btn-icon" *hasClaim="'monitoreo_tabSeg_responsable_modSupervisor_exp_tec'">
                    <i class="fa fa-15x">
                      <img src="assets/img/icons/pencil.svg" alt="editar">
                    </i>
                  </a>
                  <a href="javascript:void(0)" (click)="eliminarSupervisor(supervisor)" class="btn btn-sm btn-icon" *hasClaim="'monitoreo_tabSeg_responsable_eliSupervisor_exp_tec'">
                    <i class="fa fa-15x">
                      <img src="assets/img/icons/trash.svg" alt="eliminar">
                    </i>
                  </a>
                </div>
                <div class="xs-display">
                  <span *ngIf="supervisor.nombre_archivo != '' && supervisor.nombre_archivo != null;">
                    <a href="{{supervisor.ruta_archivo}}" target="_blank" class="btn-icon mr-1" [LinkNube]="supervisor.nombre_archivo" [Ruta]="supervisor.ruta_archivo">
                      <i class="fa fa-file"></i>
                    </a>
                  </span>
                  <a href="javascript:void(0)" (click)="editarSupervisor(supervisor)" class="btn-icon mr-1" *hasClaim="'monitoreo_tabSeg_responsable_modSupervisor_exp_tec'">
                    <i class="fa fa-pencil"></i>
                  </a>
                  <a href="javascript:void(0)" (click)="eliminarSupervisor(supervisor)" class="btn-icon" *hasClaim="'monitoreo_tabSeg_responsable_eliSupervisor_exp_tec'">
                    <i class="fa fa-trash"></i>
                  </a>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="col-12">
        <nav class="pt-4 pl-3 pull-right">
          <pagination [totalItems]="totalRegistros" [itemsPerPage]="numPaginasMostrar" [boundaryLinks]="true" previousText="&lsaquo;"
            nextText="&rsaquo;" [rotate]="false" firstText="&laquo;" lastText="&raquo;" [maxSize]="5" (pageChanged)="cambiarPagina($event)">
          </pagination>
        </nav>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn btn-plomo" id="btnCancelar" type="button" (click)="closeModal()">Cerrar</button>
  </div>
